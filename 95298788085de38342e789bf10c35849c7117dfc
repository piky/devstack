{
  "comments": [
    {
      "key": {
        "uuid": "b46bac7c_4491eb3a",
        "filename": "lib/neutron_plugins/ovn_agent",
        "patchSetId": 1
      },
      "lineNbr": 265,
      "author": {
        "id": 16688
      },
      "writtenOn": "2021-06-09T16:10:18Z",
      "side": 1,
      "message": "Sorry, I don\u0027t understand why we are removing all the public bridge configuration.",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "def1232d_2c0d5cdb",
        "filename": "lib/neutron_plugins/ovn_agent",
        "patchSetId": 1
      },
      "lineNbr": 265,
      "author": {
        "id": 30491
      },
      "writtenOn": "2021-06-09T16:13:57Z",
      "side": 1,
      "message": "Addressing and routing is set up properly in l3. I prefer we don\u0027t start re-copying contents of l3 and just rely on it working.",
      "parentUuid": "b46bac7c_4491eb3a",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af0cc166_72bdd7aa",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1131
      },
      "writtenOn": "2021-06-09T18:24:27Z",
      "side": 1,
      "message": "I think these two should move to right before they\u0027re needed, when executed as this is sourced they could return nothing which is not what we want.  In a follow-on DNM patch I did that and I saw accept_ra being set properly.  https://review.opendev.org/c/openstack/devstack/+/795593",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc6f4057_790bd877",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 30491
      },
      "writtenOn": "2021-06-10T06:47:48Z",
      "side": 1,
      "message": "That does not help. The interfaces with the default route exist before devstack completes so this place sounds just as fine.",
      "parentUuid": "af0cc166_72bdd7aa",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7076e04b_ed97d841",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 335,
      "author": {
        "id": 30491
      },
      "writtenOn": "2021-06-09T16:13:57Z",
      "side": 1,
      "message": "@Rodolfo, this and the next function cover addressing and routing setup. I would prefer we don\u0027t copy updated code to ovn and just reuse this. I suggest we merge this patch and look at refactoring possibilities if you prefer a different code organisation.",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15293301_2bd3df0a",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 403,
      "author": {
        "id": 1131
      },
      "writtenOn": "2021-06-08T18:24:43Z",
      "side": 1,
      "message": "I am guessing this is empty (it\u0027s set above).  Just looking at the ovn_agent code you\u0027re removing it\u0027s doing a much more basic set:\n\ndefault_route_dev\u003d$(ip route | grep ^default | awk \u0027{print $5}\u0027)\n\nBut then looking at the changelog for this file it was changed for a reason (IPv6 ECMP).  This whole thing is a mess...",
      "range": {
        "startLine": 403,
        "startChar": 17,
        "endLine": 403,
        "endChar": 39
      },
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ceccd1ae_de861dba",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 403,
      "author": {
        "id": 30491
      },
      "writtenOn": "2021-06-08T18:33:03Z",
      "side": 1,
      "message": "I can agree with the last sentence 100% ðŸ˜„ I am pretty sure this is irrelevant and it was (mis?)behaving the same with OVS.",
      "parentUuid": "15293301_2bd3df0a",
      "range": {
        "startLine": 403,
        "startChar": 17,
        "endLine": 403,
        "endChar": 39
      },
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89def4a6_d6d128cf",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 1131
      },
      "writtenOn": "2021-06-08T18:24:43Z",
      "side": 1,
      "message": "I never see this getting called unlike Rodolfo\u0027s change, which is maybe why the tempest-ipv6-only test is failing.\n\nhttps://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_372/793962/5/check/tempest-ipv6-only/372b71c/controller/logs/devstacklog.txt",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f19f128_4c67c8b5",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 30491
      },
      "writtenOn": "2021-06-08T18:33:03Z",
      "side": 1,
      "message": "That job failed on instance build. Please recheck.\n\nhttps://0bcc31ded4a34379fa89-c6d0ba205acfdaf07abcc75d255ce0b7.ssl.cf2.rackcdn.com/795371/1/check/tempest-ipv6-only/6c3c8ba/testr_results.html",
      "parentUuid": "89def4a6_d6d128cf",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3092e7c_fa0b7e24",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 1131
      },
      "writtenOn": "2021-06-08T20:03:05Z",
      "side": 1,
      "message": "Interesting, but I still don\u0027t see accept_ra getting set on the interface with the default route in the devstack log.\n\nhttps://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_f55/795371/1/check/tempest-ipv6-only/f55cca8/controller/logs/devstacklog.txt\n\ncommit 0c9a6cab9118fd4ebcdb5277ccf66756fe4f2ec8 explains why we need to do this, could affect IPv6 routing if we don\u0027t.",
      "parentUuid": "5f19f128_4c67c8b5",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88394877_24396fff",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 30491
      },
      "writtenOn": "2021-06-10T06:47:48Z",
      "side": 1,
      "message": "Well, we have been running like this for years with ovs. So it\u0027s either irrelevant or relevant extremely rarely.",
      "parentUuid": "e3092e7c_fa0b7e24",
      "revId": "95298788085de38342e789bf10c35849c7117dfc",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    }
  ]
}