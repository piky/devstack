{
  "comments": [
    {
      "key": {
        "uuid": "bbaf8ef7_8e8968a7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 13252
      },
      "writtenOn": "2021-03-17T06:36:58Z",
      "side": 1,
      "message": "It is being used in plugins like e.g. ironic, so I don\u0027t think we can just remove it.",
      "revId": "af9c7fd89521ab6c9ed9729053b5ac50c07e7f96",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4b44635_e82e41ae",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 29244
      },
      "writtenOn": "2021-03-17T08:00:11Z",
      "side": 1,
      "message": "Good catch, I didn\u0027t check the plugins from other repos, I will revert that part, thanks",
      "parentUuid": "bbaf8ef7_8e8968a7",
      "revId": "af9c7fd89521ab6c9ed9729053b5ac50c07e7f96",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ba75239_15471776",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 5
      },
      "lineNbr": 395,
      "author": {
        "id": 13252
      },
      "writtenOn": "2021-03-17T06:36:58Z",
      "side": 1,
      "message": "I\u0027m not sure whether this is the right thing to do in a multinode scenario. The l3 agent will only be enabled on the controller node, but the new condition might also be met on the other nodes?",
      "revId": "af9c7fd89521ab6c9ed9729053b5ac50c07e7f96",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "284d30f7_bfc111de",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 5
      },
      "lineNbr": 395,
      "author": {
        "id": 29244
      },
      "writtenOn": "2021-03-17T08:00:11Z",
      "side": 1,
      "message": "This function is called from create_neutron_initial_network, which is only called when q-svc is enabled, so a compute node will not use it.\nIn case of multiple controllers, I think it\u0027s safe to enable the route on each controller that runs q-svc.",
      "parentUuid": "4ba75239_15471776",
      "revId": "af9c7fd89521ab6c9ed9729053b5ac50c07e7f96",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03b39f46_4448b377",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 5
      },
      "lineNbr": 395,
      "author": {
        "id": 13252
      },
      "writtenOn": "2021-03-17T08:56:33Z",
      "side": 1,
      "message": "For multiple controllers it would be an issue having the same GW address configured on multiple hosts, but I\u0027m not sure whether there actually is such a scenario.",
      "parentUuid": "284d30f7_bfc111de",
      "revId": "af9c7fd89521ab6c9ed9729053b5ac50c07e7f96",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25e7d446_51da387e",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 5
      },
      "lineNbr": 395,
      "author": {
        "id": 6773
      },
      "writtenOn": "2021-03-19T10:58:21Z",
      "side": 1,
      "message": "That\u0027s a good point regarding not checking if it\u0027s a controller node.\n\nPerhaps we could make this conditional check of q-svc AND Q_AGENT \u003d\u003d OVN ?\n\n # Check if the backend is OVN on a controller node OR if l3-agent is enabled\n if [[ $Q_AGENT \u003d\u003d \"ovn\" ]] \u0026\u0026 is_service_enable q-svc neutron-server || \\\n    is_service_enabled q-l3 neutron-l3; then\n    ...",
      "parentUuid": "03b39f46_4448b377",
      "revId": "af9c7fd89521ab6c9ed9729053b5ac50c07e7f96",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    }
  ]
}