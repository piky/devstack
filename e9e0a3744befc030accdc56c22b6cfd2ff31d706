{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4090fc0e_d4df3334",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11604
      },
      "writtenOn": "2022-03-10T12:16:43Z",
      "side": 1,
      "message": "recheck unrelated volume error",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd2276d6_cee8f434",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6926
      },
      "writtenOn": "2022-03-10T16:04:44Z",
      "side": 1,
      "message": "good catch!",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d98efaa_f4e7e710",
        "filename": "stack.sh",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 13252
      },
      "writtenOn": "2022-03-27T07:33:50Z",
      "side": 1,
      "message": "What distro is affected by this? I\u0027m not convinced that this is a good solution, because sometimes pip might install binaries into a different location and this is all about where to find those binaries. Can we instead have a fixup function only for the special case(s) where it is needed?",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c571415_76348f6a",
        "filename": "stack.sh",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 11604
      },
      "writtenOn": "2022-03-28T13:29:41Z",
      "side": 1,
      "message": "well the same logic would apply to the previous line too no?\nwe do not special case the inclusion of sbin\n\nthis was for redhats internal centos 9 stream cloud image.\ni have not figured out why that image does not have /usr/local/bin in its path but that is where pip was installing stuff.\n\n\ni had to also modify the tempest run playook downstream to work around the path issue\n\nanges that run through devstack-tempest are likely to have an impact on\n# the devstack part of the job, so we keep devstack in the main play to\n# avoid zuul retrying on legitimate failures.\n- hosts: all\n  roles:\n    - orchestrate-devstack\n# We run tests only on one node, regardless how many nodes are in the system\n- hosts: tempest\n  environment:\n    # This enviroment variable is used by the optional tempest-gabbi\n    # job provided by the gabbi-tempest plugin. It can be safely ignored\n    # if that plugin is not being used.\n    GABBI_TEMPEST_PATH: \"{{ gabbi_tempest_path | default(\u0027\u0027) }}\"\n    PATH: \"/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\"\n  roles:\n    - setup-tempest-run-dir\n    - setup-tempest-data-dir\n    - acl-devstack-files\n    - run-tempest\n\ni proably could just set the path in the env when i call orchestrate-devstack i guess. the same way as i do for tempest above and then not need this patch.\nill try that and see if it works.\n\nif we were to move this to a fixup fucntion we should also mvoe the sbin path maniulation to be consitent.",
      "parentUuid": "8d98efaa_f4e7e710",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80504199_659acd33",
        "filename": "stack.sh",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 13252
      },
      "writtenOn": "2022-03-28T14:09:17Z",
      "side": 1,
      "message": "I agree, the sbin thing seems to have been added in 2014 for Debian according to the commit message. otoh we don\u0027t have the tools available to check which distro we are running on until much later in this script.\n\nSo I guess I retract my comment and instead maybe keep things simple and just add /usr/local/bin to the list in L70 unconditionally?",
      "parentUuid": "3c571415_76348f6a",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ba84afa_5bf7c8e4",
        "filename": "stack.sh",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 11604
      },
      "writtenOn": "2022-03-28T14:26:25Z",
      "side": 1,
      "message": "ya i could i was not sure what impact of repeating a folder on the path is.\ni think its fine it will just be checked twice but that is the only reason i did the test.",
      "parentUuid": "80504199_659acd33",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ceca4dd_ae47e99a",
        "filename": "stack.sh",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 22873
      },
      "writtenOn": "2022-03-29T18:37:16Z",
      "side": 1,
      "message": "+1 on adding the path to the list on line 70",
      "parentUuid": "4ba84afa_5bf7c8e4",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5ccd898_3c118ea6",
        "filename": "stack.sh",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 11604
      },
      "writtenOn": "2022-04-07T12:33:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4ceca4dd_ae47e99a",
      "revId": "e9e0a3744befc030accdc56c22b6cfd2ff31d706",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}