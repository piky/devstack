{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "884e0238_d07973a5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 28522
      },
      "writtenOn": "2024-05-17T06:22:23Z",
      "side": 1,
      "message": "recheck\n\nhm... at first glance the errors do not seems related to eventlet, but to bcrypt...\n\n```\n024-05-16 16:37:44.422441 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00mTraceback (most recent call last):\n\n2024-05-16 16:37:44.422470 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/keystone/keystone/identity/backends/sql.py\", line 209, in get_user_by_name\n\n2024-05-16 16:37:44.422498 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    user_ref \u003d query.one()\n\n2024-05-16 16:37:44.422559 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py\", line 2778, in one\n\n2024-05-16 16:37:44.422611 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return self._iter().one()  # type: ignore\n\n2024-05-16 16:37:44.422633 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/sqlalchemy/engine/result.py\", line 1810, in one\n\n2024-05-16 16:37:44.422658 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return self._only_one_row(\n\n2024-05-16 16:37:44.422700 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/sqlalchemy/engine/result.py\", line 752, in _only_one_row\n\n2024-05-16 16:37:44.422730 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    raise exc.NoResultFound(\n\n2024-05-16 16:37:44.422756 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00msqlalchemy.exc.NoResultFound: No row was found when one was required\n\n2024-05-16 16:37:44.422781 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m\n\n2024-05-16 16:37:44.422844 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00mDuring handling of the above exception, another exception occurred:\n\n2024-05-16 16:37:44.422871 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m\n\n2024-05-16 16:37:44.422896 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00mTraceback (most recent call last):\n\n2024-05-16 16:37:44.422935 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/keystone/keystone/cmd/bootstrap.py\", line 205, in _bootstrap_admin_user\n\n2024-05-16 16:37:44.422977 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    user \u003d PROVIDERS.identity_api.get_user_by_name(\n\n2024-05-16 16:37:44.423005 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/keystone/keystone/common/manager.py\", line 110, in wrapped\n\n2024-05-16 16:37:44.424216 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    __ret_val \u003d __f(*args, **kwargs)\n\n2024-05-16 16:37:44.472885 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/keystone/keystone/identity/core.py\", line 414, in wrapper\n\n2024-05-16 16:37:44.472962 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return f(self, *args, **kwargs)\n\n2024-05-16 16:37:44.472987 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/keystone/keystone/identity/core.py\", line 424, in wrapper\n\n2024-05-16 16:37:44.473008 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return f(self, *args, **kwargs)\n\n2024-05-16 16:37:44.473038 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/decorator.py\", line 232, in fun\n\n2024-05-16 16:37:44.473058 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return caller(func, *(extras + args), **kw)\n\n2024-05-16 16:37:44.473075 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/dogpile/cache/region.py\", line 1632, in get_or_create_for_user_func\n\n2024-05-16 16:37:44.473094 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return self.get_or_create(\n\n2024-05-16 16:37:44.473112 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/dogpile/cache/region.py\", line 1092, in get_or_create\n\n2024-05-16 16:37:44.473133 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    with Lock(\n\n2024-05-16 16:37:44.473153 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/dogpile/lock.py\", line 185, in __enter__\n\n2024-05-16 16:37:44.473172 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return self._enter()\n\n2024-05-16 16:37:44.473188 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/dogpile/lock.py\", line 94, in _enter\n\n2024-05-16 16:37:44.473205 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    generated \u003d self._enter_create(value, createdtime)\n\n2024-05-16 16:37:44.473222 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/dogpile/lock.py\", line 178, in _enter_create\n\n2024-05-16 16:37:44.473238 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    return self.creator()\n\n2024-05-16 16:37:44.473276 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/dogpile/cache/region.py\", line 1046, in gen_value\n\n2024-05-16 16:37:44.473295 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    created_value \u003d creator(\n\n2024-05-16 16:37:44.473312 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/keystone/keystone/identity/core.py\", line 1035, in get_user_by_name\n\n2024-05-16 16:37:44.473329 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    ref \u003d driver.get_user_by_name(user_name, domain_id)\n\n2024-05-16 16:37:44.473345 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/keystone/keystone/identity/backends/sql.py\", line 211, in get_user_by_name\n\n2024-05-16 16:37:44.473362 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    raise exception.UserNotFound(user_id\u003duser_name)\n\n2024-05-16 16:37:44.473378 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00mkeystone.exception.UserNotFound: Could not find user: admin.\n\n2024-05-16 16:37:44.473396 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m\n\n2024-05-16 16:37:44.473413 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00mDuring handling of the above exception, another exception occurred:\n\n2024-05-16 16:37:44.473441 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m\n\n2024-05-16 16:37:44.473457 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00mTraceback (most recent call last):\n\n2024-05-16 16:37:44.473474 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m  File \"/opt/stack/data/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n\n2024-05-16 16:37:44.473491 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00m    version \u003d _bcrypt.__about__.__version__\n\n2024-05-16 16:37:44.473507 | controller | ERROR passlib.handlers.bcrypt \u001b[01;35m\u001b[00mAttributeError: module \u0027bcrypt\u0027 has no attribute \u0027__about__\u0027\n```",
      "revId": "9a598850f9cde69d2985cc29c0d1ce3969ac7fd3",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}