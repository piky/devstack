{
  "comments": [
    {
      "key": {
        "uuid": "AAAAVX//vYc\u003d",
        "filename": "functions-common",
        "patchSetId": 1
      },
      "lineNbr": 947,
      "author": {
        "id": 970
      },
      "writtenOn": "2014-02-28T16:43:33Z",
      "side": 1,
      "message": "Please indent the awk code",
      "revId": "f5b59e82aa4809fa681bb5d46876af2c1942090d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAVn//+V0\u003d",
        "filename": "functions-common",
        "patchSetId": 1
      },
      "lineNbr": 947,
      "author": {
        "id": 7118
      },
      "writtenOn": "2014-03-03T03:06:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAAVX//vYc\u003d",
      "revId": "f5b59e82aa4809fa681bb5d46876af2c1942090d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAVX//vXs\u003d",
        "filename": "functions-common",
        "patchSetId": 1
      },
      "lineNbr": 955,
      "author": {
        "id": 970
      },
      "writtenOn": "2014-02-28T16:43:33Z",
      "side": 1,
      "message": "even with errexit set I think we should trap the non-zero exit here and call die so the error status is clear.",
      "revId": "f5b59e82aa4809fa681bb5d46876af2c1942090d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAVn//+V4\u003d",
        "filename": "functions-common",
        "patchSetId": 1
      },
      "lineNbr": 955,
      "author": {
        "id": 7118
      },
      "writtenOn": "2014-03-03T03:06:04Z",
      "side": 1,
      "message": "do you mean \"overriding\" -e semantics something like\n\n---\nsudo ...blah... | awk {...} \u0026\u0026 [[ 1 ]]\nif [[ $? \u003d\u003d 1 ]]; then\n  die()\nfi\n---\n\nIMO that\u0027s rather confusing.\n\nOr do you mean simply check $? and die, but with the understanding this won\u0027t trigger when -e is set?",
      "parentUuid": "AAAAVX//vXs\u003d",
      "revId": "f5b59e82aa4809fa681bb5d46876af2c1942090d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAVn//2Vc\u003d",
        "filename": "functions-common",
        "patchSetId": 1
      },
      "lineNbr": 955,
      "author": {
        "id": 970
      },
      "writtenOn": "2014-03-03T20:13:26Z",
      "side": 1,
      "message": "If the awk hits \u0027exit fail\u0027 then you\u0027ll get a message to stdout and only if errexit is set does the script abort.  I think it would be best to call die() at this point because if missing packages are worthy of stopping that doesn\u0027t change if errexit is set or not.  So this is what I had in mind:\n\n  $sudo ... \\\n    ...\n    awk `\n      ...\n    }\u0027 || die $LINENO \"Missing packages detected\"",
      "parentUuid": "AAAAVn//+V4\u003d",
      "revId": "f5b59e82aa4809fa681bb5d46876af2c1942090d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}