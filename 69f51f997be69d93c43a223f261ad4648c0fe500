{
  "comments": [
    {
      "key": {
        "uuid": "fa98f980_7b894125",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 17,
      "author": {
        "id": 11226
      },
      "writtenOn": "2014-09-12T13:10:33Z",
      "side": 1,
      "message": "the problem is not that no_proxy is not exporting. it was the local host address didn\u0027t included in the no_proxy variables.",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_0938e8d1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 17,
      "author": {
        "id": 12487
      },
      "writtenOn": "2014-09-12T15:25:18Z",
      "side": 1,
      "message": "If no_proxy variable was not exported in the local terminal it would fail installation when run behind a proxy.\n\nThe original code without this patch just validates the presence of no_proxy and exports only if it is present. So i guess the commit message is fine.\n\nOriginal code snippet for reference.\n\n if [[ -n \"$no_proxy\" ]]; then\n        export no_proxy\u003d$no_proxy\n fi",
      "parentUuid": "fa98f980_7b894125",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_9b31855c",
        "filename": "functions-common",
        "patchSetId": 9
      },
      "lineNbr": 1746,
      "author": {
        "id": 11226
      },
      "writtenOn": "2014-09-12T13:15:53Z",
      "side": 1,
      "message": "the above 7 line code are duplicated. please optimize it.",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_d6375f4b",
        "filename": "functions-common",
        "patchSetId": 9
      },
      "lineNbr": 1746,
      "author": {
        "id": 12487
      },
      "writtenOn": "2014-09-12T15:25:18Z",
      "side": 1,
      "message": "There is a need for two sets of validation, one when no_proxy is empty and other when no_proxy has values but \u0027localhost\u0027 not present. I will think of optimizing further. Thanks",
      "parentUuid": "fa98f980_9b31855c",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_5b203af7",
        "filename": "functions-common",
        "patchSetId": 9
      },
      "lineNbr": 1756,
      "author": {
        "id": 4727
      },
      "writtenOn": "2014-09-10T19:57:17Z",
      "side": 1,
      "message": "What do you think about:\n\nSERVICE_IPS\u003d\"localhost $HOST_IP $SERVICE_HOST $GLANCE_HOST $HEAT_API_CFN_HOST\"\n\nfunction export_proxy_variables {\n    if [[ -n \"$http_proxy\" ]]; then\n        export http_proxy\u003d$http_proxy\n    fi\n    if [[ -n \"$https_proxy\" ]]; then\n        export https_proxy\u003d$https_proxy\n    fi\n    if [[ -z \"$no_proxy\" ]]; then\n        no_proxy\u003dlocalhost\n    fi\n    for IP in $SERVICE_IPS;do\n        if [[ -n $IP  \u0026\u0026  ! \"$no_proxy\" \u003d~ \"$IP\" ]]; then\n            no_proxy\u003d$no_proxy,$IP\n        fi\n    done\n    export no_proxy\u003d$no_proxy\n}",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_7e8065bf",
        "filename": "functions-common",
        "patchSetId": 9
      },
      "lineNbr": 1756,
      "author": {
        "id": 12487
      },
      "writtenOn": "2014-09-11T21:11:15Z",
      "side": 1,
      "message": "This looks more crisp. But i think just GLANCE_HOST and HEAT_API_CFN_HOST alone are not enough, few more variables like RABBIT_HOST,CINDER_SERVICE_HOST, etc.\nI am trying to figure out, which are the variables that need to be exported and also, the place where export_proxy_variable needs to be called in stack.sh if the above variables need to be exported. I will soon upload the new patchset",
      "parentUuid": "fa98f980_5b203af7",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_1b52f566",
        "filename": "functions-common",
        "patchSetId": 9
      },
      "lineNbr": 1756,
      "author": {
        "id": 11226
      },
      "writtenOn": "2014-09-12T13:17:59Z",
      "side": 1,
      "message": "Don\u0027t you need to add FLOATING_RANG?",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_d6b83f77",
        "filename": "functions-common",
        "patchSetId": 9
      },
      "lineNbr": 1756,
      "author": {
        "id": 12487
      },
      "writtenOn": "2014-09-12T15:25:18Z",
      "side": 1,
      "message": "For just devstack to complete, only servicing IPs like HOST_IP,etc need to be exported. It is not necessary for FIXED or FLOATING_RANGE in this list as they are not a part of service IPs. Again the above statement is based on testing results.\n\nThe above patch needs to be extended further as mentioned by Itzik Brown in the above comment.",
      "parentUuid": "fa98f980_1b52f566",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_68c6b969",
        "filename": "functions-common",
        "patchSetId": 9
      },
      "lineNbr": 1756,
      "author": {
        "id": 4727
      },
      "writtenOn": "2014-09-13T23:55:06Z",
      "side": 1,
      "message": "You are right.Searching for SERVICE_PROTOCOL\u003dhttp may be helpful.\nNot sure about RABBIT_HOST tough.",
      "parentUuid": "fa98f980_7e8065bf",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_bb5569c3",
        "filename": "stack.sh",
        "patchSetId": 9
      },
      "lineNbr": 321,
      "author": {
        "id": 11226
      },
      "writtenOn": "2014-09-12T13:10:33Z",
      "side": 1,
      "message": "Can you make sure the proxy variables are not used before this line?",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_f6caa34d",
        "filename": "stack.sh",
        "patchSetId": 9
      },
      "lineNbr": 321,
      "author": {
        "id": 12487
      },
      "writtenOn": "2014-09-12T15:25:18Z",
      "side": 1,
      "message": "Yes i have checked it and tested on a setup behind proxy",
      "parentUuid": "fa98f980_bb5569c3",
      "revId": "69f51f997be69d93c43a223f261ad4648c0fe500",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}