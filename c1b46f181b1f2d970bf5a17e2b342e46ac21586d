{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e7c91d57_5fb9a893",
        "filename": "functions-common",
        "patchSetId": 3
      },
      "lineNbr": 794,
      "author": {
        "id": 5046
      },
      "writtenOn": "2021-11-03T19:54:55Z",
      "side": 1,
      "message": "We might want to unset this too when we\u0027re done. Otherwise we might run into the same problem where we pollute commands that run after this.\n\nWhat about popping the original values off, if present, running the admin command as system-admin, the resetting the original values?",
      "revId": "c1b46f181b1f2d970bf5a17e2b342e46ac21586d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39b6be72_5a841beb",
        "filename": "functions-common",
        "patchSetId": 3
      },
      "lineNbr": 794,
      "author": {
        "id": 13252
      },
      "writtenOn": "2021-11-04T12:25:59Z",
      "side": 1,
      "message": "Well the solution I proposed for this issue is in https://review.opendev.org/c/openstack/devstack/+/780417/4/stack.sh which would only use OS_CLOUD everywhere in devstack and thus make it easy to override credentials. That patch needs a bit more of checking for possible side effects on consumers, though, which I haven\u0027t found the time for so far. If one of you would be interested in taking over, I think that would be a better solution than this workaround here, where I\u0027d not be sure whether even more variables would need to be nulled.",
      "parentUuid": "e7c91d57_5fb9a893",
      "revId": "c1b46f181b1f2d970bf5a17e2b342e46ac21586d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "670e8032_007828d8",
        "filename": "functions-common",
        "patchSetId": 3
      },
      "lineNbr": 794,
      "author": {
        "id": 5046
      },
      "writtenOn": "2021-11-04T19:42:45Z",
      "side": 1,
      "message": "Ok - that makes sense. In that case, we would no longer be using environment variables at all and we would just invoke the profile via --os-cloud, correct?",
      "parentUuid": "39b6be72_5a841beb",
      "revId": "c1b46f181b1f2d970bf5a17e2b342e46ac21586d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ff40648_40f45078",
        "filename": "functions-common",
        "patchSetId": 3
      },
      "lineNbr": 794,
      "author": {
        "id": 13252
      },
      "writtenOn": "2021-11-04T19:54:48Z",
      "side": 1,
      "message": "Well I would prefer to still set OS_CLOUD\u003ddevstack-admin by default, or possibly \u003ddevstack-system-admin, in order not having to change every invocation. But with only that single var being set, you can easily override that by either setting a different value or using --os-cloud just for specific calls.",
      "parentUuid": "670e8032_007828d8",
      "revId": "c1b46f181b1f2d970bf5a17e2b342e46ac21586d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e9f78be_1fedda48",
        "filename": "functions-common",
        "patchSetId": 3
      },
      "lineNbr": 794,
      "author": {
        "id": 5046
      },
      "writtenOn": "2021-11-08T17:39:45Z",
      "side": 1,
      "message": "Ok, yeah, that makes sense.",
      "parentUuid": "2ff40648_40f45078",
      "revId": "c1b46f181b1f2d970bf5a17e2b342e46ac21586d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41efbf82_3ca59767",
        "filename": "stack.sh",
        "patchSetId": 3
      },
      "lineNbr": 1094,
      "author": {
        "id": 5046
      },
      "writtenOn": "2021-11-03T19:54:55Z",
      "side": 1,
      "message": "I think this bit already merged:\n\nhttps://review.opendev.org/c/openstack/devstack/+/814142/1/stack.sh",
      "revId": "c1b46f181b1f2d970bf5a17e2b342e46ac21586d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}