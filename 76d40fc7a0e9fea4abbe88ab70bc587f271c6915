{
  "comments": [
    {
      "key": {
        "uuid": "dfeb2761_5f5c507d",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-04-03T15:07:07Z",
      "side": 1,
      "message": "I suggest, although I totally understand the googlie eyes, just changing the invocations of install_docker.sh to be \"bash install_docker.sh\" - god only knows what else will break by changing system /bin/sh back to bash (it\u0027s been dash since at least maverick)",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_7a9e02b9",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 2750
      },
      "writtenOn": "2017-04-03T15:08:14Z",
      "side": 1,
      "message": "Agreed, it would also mean that projects could accidentally ship /bin/sh scripts that aren\u0027t using sh",
      "parentUuid": "dfeb2761_5f5c507d",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_737e356c",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 2750
      },
      "writtenOn": "2017-04-03T13:18:35Z",
      "side": 1,
      "message": "at a minimum this *must* be an HTTPS address. This is also going to not really work well in the gate.\n\nHonestly, why are we unrolling the repository additions in the install_docker.sh script and doing them here? That would also allow them to be mirrored to infra, and not rely in network during gate jobs.",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_1f2808e0",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 2750
      },
      "writtenOn": "2017-04-03T14:57:47Z",
      "side": 1,
      "message": "That should be \"why aren\u0027t we\". When I read the install_docker.sh it\u0027s mostly about setting up some repositories and doing package installs, we should really just do that inline in devstack.",
      "parentUuid": "dfeb2761_737e356c",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_7f34b4fb",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 11536
      },
      "writtenOn": "2017-04-03T15:06:38Z",
      "side": 1,
      "message": "Sure. Will look into how to do that.",
      "parentUuid": "dfeb2761_1f2808e0",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_459d6cba",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 14119
      },
      "writtenOn": "2017-04-04T19:04:54Z",
      "side": 1,
      "message": "yes that install script is just setting up a repository and adding a key. can easily be done in line.",
      "parentUuid": "dfeb2761_1f2808e0",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ffa3b31_d643ccae",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 11536
      },
      "writtenOn": "2017-04-17T20:20:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dfeb2761_1f2808e0",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_b3371db1",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 2750
      },
      "writtenOn": "2017-04-03T13:18:35Z",
      "side": 1,
      "message": "this is going to put docker in screen by default? Why can\u0027t we use the existing .service files coming off the repository to restart in a normal way?",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_7a50420b",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 11536
      },
      "writtenOn": "2017-04-03T15:06:38Z",
      "side": 1,
      "message": "Kuryr put docker in screen, but perhaps others won\u0027t. So agree with you, there should be an option to decide whether to put docker in screen and the default could be using existing .service files.",
      "parentUuid": "dfeb2761_b3371db1",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfeb2761_fad7b24e",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 2750
      },
      "writtenOn": "2017-04-03T15:10:23Z",
      "side": 1,
      "message": "Well, I\u0027m working towards getting rid of screen, and using systemd for everything in devstack, so I think we should consider if we really want to maintain a dedicated .service that\u0027s not the installed one.",
      "parentUuid": "dfeb2761_7a50420b",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bff0334d_3e2529c3",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 4162
      },
      "writtenOn": "2017-04-06T19:23:05Z",
      "side": 1,
      "message": "We should be using the /etc/default/docker file for this. It supports DOCKER_OPTS for configuring specific things. Then, like Sean says, it already have a systemd file we can leverage.",
      "parentUuid": "dfeb2761_fad7b24e",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ffa3b31_b614c0a1",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 11536
      },
      "writtenOn": "2017-04-17T20:20:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dfeb2761_b3371db1",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ffa3b31_b67960fd",
        "filename": "lib/docker",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 11536
      },
      "writtenOn": "2017-04-17T20:20:27Z",
      "side": 1,
      "message": "Move it to docker configuration file /etc/docker/daemon.json . Done.",
      "parentUuid": "bff0334d_3e2529c3",
      "revId": "76d40fc7a0e9fea4abbe88ab70bc587f271c6915",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}