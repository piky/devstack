{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "11b5726b_1fde04c3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 9816
      },
      "writtenOn": "2024-04-11T06:19:22Z",
      "side": 1,
      "message": "recheck the previous logs have expired. Let\u0027s get fresh result.",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c5f9852_6322a2e3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 8556
      },
      "writtenOn": "2024-06-26T19:45:23Z",
      "side": 1,
      "message": "lgtm,\n\nThe new configs is enabled in\n-  https://review.opendev.org/c/openstack/cinder/+/909847\n\nand job passing fine with using the service token\n- https://zuul.opendev.org/t/openstack/build/b6682634e6b74d87b62a47670c142936",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da1ae571_d8efd979",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 27615
      },
      "writtenOn": "2024-07-15T08:46:12Z",
      "side": 1,
      "message": "Hi Jens, please find my reply inline.",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d758f76_1d7ac0c4",
        "filename": "lib/cinder",
        "patchSetId": 4
      },
      "lineNbr": 93,
      "author": {
        "id": 13252
      },
      "writtenOn": "2024-08-08T15:51:48Z",
      "side": 1,
      "message": "I wonder whether this actually needs to be optional. What would be bad about that config section unconditionally?",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b7da3f8_3366b8ea",
        "filename": "lib/cinder",
        "patchSetId": 4
      },
      "lineNbr": 93,
      "author": {
        "id": 27615
      },
      "writtenOn": "2024-08-13T19:37:55Z",
      "side": 1,
      "message": "I don\u0027t think there should be an issue, we are passing an additional token in service-to-service interaction so either it will be used or ignored. should not open new vulnerabilities but if it does, we can disable it with this option.\nSetting this to True.",
      "parentUuid": "0d758f76_1d7ac0c4",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e24bfe7c_a68e01f0",
        "filename": "lib/cinder",
        "patchSetId": 4
      },
      "lineNbr": 777,
      "author": {
        "id": 13252
      },
      "writtenOn": "2024-07-09T16:30:52Z",
      "side": 1,
      "message": "can you call configure_keystone_authtoken_middleware here and just set the additional vars that are needed? I\u0027d like to reduce duplication and make it easier to switch all auth to application credentials",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d8b8b3b_d6798080",
        "filename": "lib/cinder",
        "patchSetId": 4
      },
      "lineNbr": 777,
      "author": {
        "id": 27615
      },
      "writtenOn": "2024-07-15T08:46:12Z",
      "side": 1,
      "message": "Sorry i didn\u0027t understand. IIUC, configure_keystone_authtoken_middleware is used to set config options in [keystone_authtoken] section[1] whereas here I\u0027m adding config for the [service_user] section.\nAlso I\u0027ve followed the same approach as nova[2] as how they have defined these options. They are needed for service-to-service communication between glance and cinder here.\n\n[1] https://github.com/openstack/devstack/blob/master/lib/keystone#L454\n[2] https://github.com/openstack/devstack/blob/master/lib/nova#L835-L845",
      "parentUuid": "e24bfe7c_a68e01f0",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0af42473_55848789",
        "filename": "lib/cinder",
        "patchSetId": 4
      },
      "lineNbr": 777,
      "author": {
        "id": 13252
      },
      "writtenOn": "2024-08-08T15:51:48Z",
      "side": 1,
      "message": "you can add a section name to the configure_keystone_authtoken_middleware invocation. and I\u0027m cleaning up the use in nova with https://review.opendev.org/c/openstack/devstack/+/923943/1/lib/nova , so that that will no longer be an example to copy from",
      "parentUuid": "9d8b8b3b_d6798080",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "57003097_eb85aa66",
        "filename": "lib/cinder",
        "patchSetId": 4
      },
      "lineNbr": 777,
      "author": {
        "id": 27615
      },
      "writtenOn": "2024-08-13T19:37:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0af42473_55848789",
      "revId": "f123aec65ee6f02138b2d4b70ad5704481e8718c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}