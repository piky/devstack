#!/bin/bash
#
# lib/cinder_backups/posix
# Configure the posix backup driver

# Enable with:
#
#   CINDER_BACKUP_DRIVER=posix

# Dependencies:
#
# - ``functions`` file
# - ``cinder`` configurations

# Save trace setting
_XTRACE_CINDER_POSIX=$(set +o | grep xtrace)
set +o xtrace


function configure_cinder_backup_posix {
    iniset $CINDER_CONF DEFAULT backup_driver "cinder.backup.drivers.posix.PosixBackupDriver"
}

# TODO: delete backup files on cleanup or init?
# init_cinder_backup_posix: nothing to do
# cleanup_cinder_backup_posix: nothing to do


# Restore xtrace
$_XTRACE_CINDER_POSIX

# Local variables:
# mode: shell-script
# End:
