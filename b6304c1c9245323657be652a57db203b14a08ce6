{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a936a980_8af379a5",
        "filename": "lib/neutron_plugins/ovn_agent",
        "patchSetId": 2
      },
      "lineNbr": 294,
      "author": {
        "id": 1131
      },
      "writtenOn": "2023-08-31T16:24:40Z",
      "side": 1,
      "message": "This seems to be returning an empty string in the logs. I see the cinder code does a similar loop for backends, but it loads the name before the call, and uses \"large left string\" ##, which really shouldn\u0027t matter.",
      "revId": "b6304c1c9245323657be652a57db203b14a08ce6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64937bb6_26592346",
        "filename": "lib/neutron_plugins/ovn_agent",
        "patchSetId": 2
      },
      "lineNbr": 294,
      "author": {
        "id": 24245
      },
      "writtenOn": "2023-09-01T05:43:14Z",
      "side": 1,
      "message": "Hmm, I wonder if PUBLIC_BRIDGE was not initialized when ovn_agent is sourced or something causing the empty string. Trying to move the initialization of OVN_BRIDGE_MAPPINGS inside the create_public_bridge function to see if that helps.",
      "parentUuid": "a936a980_8af379a5",
      "revId": "b6304c1c9245323657be652a57db203b14a08ce6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c7a3831_323bff20",
        "filename": "lib/neutron_plugins/ovn_agent",
        "patchSetId": 2
      },
      "lineNbr": 294,
      "author": {
        "id": 24245
      },
      "writtenOn": "2023-09-01T07:56:38Z",
      "side": 1,
      "message": "That did the trick ... \n\n| + lib/neutron_plugins/ovn_agent:create_public_bridge:290 :   OVN_BRIDGE_MAPPINGS\u003dpublic:br-ex\n| + lib/neutron_plugins/ovn_agent:create_public_bridge:291 :   for bridge_mapping in ${OVN_BRIDGE_MAPPINGS//,/ }\n| + lib/neutron_plugins/ovn_agent:create_public_bridge:293 :   sudo ovs-vsctl --may-exist add-br br-ex -- set bridge br-ex protocols\u003dOpenFlow13,OpenFlow15\n| + lib/neutron_plugins/ovn_agent:create_public_bridge:295 :   sudo ovs-vsctl set open . external-ids:ovn-bridge-mappings\u003dpublic:br-ex\n\n\nI updated to patch againt to initialize OVN_BRIDGE_MAPPINGS in lib/neutron after sourcing services/l3 which initializes PUBLIC_BRIDGE. I think that should work as well, and the var will also be available before calling the function to create public bridge in case it becomes used elsewhere in the future.",
      "parentUuid": "64937bb6_26592346",
      "revId": "b6304c1c9245323657be652a57db203b14a08ce6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da24695d_039303d7",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1131
      },
      "writtenOn": "2023-08-31T16:24:40Z",
      "side": 1,
      "message": "nit: corresponding",
      "range": {
        "startLine": 50,
        "startChar": 47,
        "endLine": 50,
        "endChar": 60
      },
      "revId": "b6304c1c9245323657be652a57db203b14a08ce6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd58a8d2_93348dd1",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 24245
      },
      "writtenOn": "2023-09-01T05:43:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da24695d_039303d7",
      "range": {
        "startLine": 50,
        "startChar": 47,
        "endLine": 50,
        "endChar": 60
      },
      "revId": "b6304c1c9245323657be652a57db203b14a08ce6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f55622a4_3461bd8c",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1131
      },
      "writtenOn": "2023-08-31T16:24:40Z",
      "side": 1,
      "message": "nit: your",
      "range": {
        "startLine": 51,
        "startChar": 5,
        "endLine": 51,
        "endChar": 9
      },
      "revId": "b6304c1c9245323657be652a57db203b14a08ce6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f48d4bc0_3394d621",
        "filename": "lib/neutron_plugins/services/l3",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 24245
      },
      "writtenOn": "2023-09-01T05:43:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f55622a4_3461bd8c",
      "range": {
        "startLine": 51,
        "startChar": 5,
        "endLine": 51,
        "endChar": 9
      },
      "revId": "b6304c1c9245323657be652a57db203b14a08ce6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}