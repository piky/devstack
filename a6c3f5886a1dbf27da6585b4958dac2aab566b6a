{
  "comments": [
    {
      "key": {
        "uuid": "9fdfeff1_5b826b02",
        "filename": "lib/database",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 7118
      },
      "writtenOn": "2019-02-21T08:55:38Z",
      "side": 0,
      "message": "So plenty of people clone the git repo and run ./stack.sh by hand.  We can\u0027t just ignore that, and it seems to me that this is the only place DATABASE_PASSWORD is set.  ergo if we just remove this they are up the proverbial creek.\n\nI feel like setting it in stack.sh is the best solution\n\nOtherwise it seems you could also do\n\n if [ -z \"$DATABASE_PASSWORD\" ];\n   read_password ...\n fi \n\nbecause this is relying on \"read_password\"\u0027s ability to pickup the env variable if it\u0027s there.",
      "revId": "a6c3f5886a1dbf27da6585b4958dac2aab566b6a",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fdfeff1_bbf1176d",
        "filename": "lib/database",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 10459
      },
      "writtenOn": "2019-02-21T09:03:59Z",
      "side": 0,
      "message": "Given that all devstack configuration examples explicitly point out that you need to set DATABASE_PASSWORD, I disagree that this change would be a problem if implemented.\n\nThat said, not my call, so I would move the call to read_password elsewhere.\n\nShould the other call to read_password be handled in the same way?",
      "parentUuid": "9fdfeff1_5b826b02",
      "revId": "a6c3f5886a1dbf27da6585b4958dac2aab566b6a",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fdfeff1_3b1e8774",
        "filename": "lib/database",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 7118
      },
      "writtenOn": "2019-02-21T09:10:52Z",
      "side": 0,
      "message": "\u003e Given that all devstack configuration examples explicitly point out that you need to set DATABASE_PASSWORD, I disagree that this change would be a problem if implemented.\n\nWell we go from \"user didn\u0027t do that and was prompted for a password\" to \"user gets an invalid SQL connection URL, which probably causes a bunch of random, hard to debug errors starting services\" which seems a regression\n\n\u003e Should the other call to read_password be handled in the same way?\n\nI think something like (pseudo-code)\n\n if [[ $VIRT_DRIVER \u003d\u003d xen ]]; then\n   read xen password\n fi\n\nwould be fine in stack.sh",
      "parentUuid": "9fdfeff1_bbf1176d",
      "revId": "a6c3f5886a1dbf27da6585b4958dac2aab566b6a",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}