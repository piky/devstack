{
  "comments": [
    {
      "key": {
        "uuid": "AAAAM3//Z2Q\u003d",
        "filename": "stack.sh",
        "patchSetId": 3
      },
      "lineNbr": 295,
      "author": {
        "id": 970
      },
      "writtenOn": "2013-01-23T20:51:18Z",
      "side": 1,
      "message": "This needs to be set for more than just stack.sh, please move it to stackrc just after DATA_DIR is set.",
      "revId": "024d48dcb1f6df2e15e7f6ee33b2238f39664c3b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAM3//Y+k\u003d",
        "filename": "stack.sh",
        "patchSetId": 3
      },
      "lineNbr": 295,
      "author": {
        "id": 6717
      },
      "writtenOn": "2013-01-24T12:06:42Z",
      "side": 1,
      "message": "\u0027functions\u0027 is not sourced in \u0027stackrc\u0027 and thus manually sourcing \u0027stackrc\u0027 from shell won\u0027t work:\n\n$ . ./stackrc\n\n./stackrc:13: command not found: is_fedora\n\nIt doesn\u0027t really appear to me like a config option as it\u0027s determined by platform so \u0027stackrc\u0027 seems to be wrong place anyway.\n\nHaving reduntant is_fedora check in \u0027stackrc\u0027 sounds even more evil.\n\nWhere exactly might this value be needed? It can be inferred from environment anytime independently on devstack/openstack.",
      "parentUuid": "AAAAM3//Z2Q\u003d",
      "revId": "024d48dcb1f6df2e15e7f6ee33b2238f39664c3b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAM3//Ysg\u003d",
        "filename": "stack.sh",
        "patchSetId": 3
      },
      "lineNbr": 295,
      "author": {
        "id": 970
      },
      "writtenOn": "2013-01-24T15:56:26Z",
      "side": 1,
      "message": "If we\u0027re going to introduce a variable for this, then:\n* there must be exactly one place to set the default value\n* there should be one place for modifying that default value\n* those places need to be a prerequisite for the places where it is used\n\nstackrc is the correct place:\n* is is already a prerequisite for the lib/* files\n* sourcing functions is already a prerequisite for sourcing stackrc (see the enable_service() and disable_service() functions for a precedent)\n\nstackrc is not designed to be used in an interactive shell, although it could work if you first source functions.",
      "parentUuid": "AAAAM3//Y+k\u003d",
      "revId": "024d48dcb1f6df2e15e7f6ee33b2238f39664c3b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAM3//Yn8\u003d",
        "filename": "stack.sh",
        "patchSetId": 3
      },
      "lineNbr": 295,
      "author": {
        "id": 6717
      },
      "writtenOn": "2013-01-24T16:34:26Z",
      "side": 1,
      "message": "That would certainly be correct for a config variable. The question is if this really is really the case. I think it\u0027s more of an internal system-dependent value that needs to be detected but never changed.\n\nIn which case might a user want to modify this? After manually installing openstack packages into a non-standard location? Why would anyone want to do that AND use devstack afterwards? I don\u0027t see any gains by making this variable user editable, only downsides.\n\nI don\u0027t like putting it into stackrc because \u0027functions\u0027 have to be included which is an extra (and IMHO needless) dependency. Although stackrc was not designed to be used in an interactive shell, it now works great without manually sourcing additional files which is cool.",
      "parentUuid": "AAAAM3//Ysg\u003d",
      "revId": "024d48dcb1f6df2e15e7f6ee33b2238f39664c3b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAM3//YmM\u003d",
        "filename": "stack.sh",
        "patchSetId": 3
      },
      "lineNbr": 295,
      "author": {
        "id": 970
      },
      "writtenOn": "2013-01-24T16:49:03Z",
      "side": 1,
      "message": "* stack.sh is not the only script that uses the lib/* files.\n* stackrc already has a dependency on functions; just because you don\u0027t use enabled_serivce() doesn\u0027t mean nobody else also doesn\u0027t\n* I don\u0027t like the idea of doing this in an env var to begin with",
      "parentUuid": "AAAAM3//Yn8\u003d",
      "revId": "024d48dcb1f6df2e15e7f6ee33b2238f39664c3b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAM3//Xg0\u003d",
        "filename": "stack.sh",
        "patchSetId": 3
      },
      "lineNbr": 295,
      "author": {
        "id": 6717
      },
      "writtenOn": "2013-01-25T09:00:37Z",
      "side": 1,
      "message": "What other solution than env var do you suggest? Making it a function?",
      "parentUuid": "AAAAM3//YmM\u003d",
      "revId": "024d48dcb1f6df2e15e7f6ee33b2238f39664c3b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}